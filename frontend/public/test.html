<!DOCTYPE html>
<html>
	<body>
		<!-- Additional information about the position of the cube. -->
		<div id="CubePositionX" style="position:fixed; left:90%; bottom:4%; color:grey;"></div>
		<div id="CubePositionY" style="position:fixed; left:90%; bottom:8%; color:grey;"> </div>
		
		<!--Scripts to be used for the joystick part-->
		<script src="http://threejs.org/build/three.min.js"></script>
		<script src="http://jeromeetienne.github.io/threex.keyboardstate/threex.keyboardstate.js"></script>
		<script src="../virtualjoystick.js"></script>
		<script>
	  
		<!-- Creating variables. Three.js is an existing 3D javascript library. --> 
		var scene = new THREE.Scene();
		var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
		<!-- THREE.Clock() starts a clock that is used for the animation --> 
		var clock = new THREE.Clock();
		var keyboard = new THREEx.KeyboardState();

		<!-- Adding a new joystick to the webpage. It is positioned at 1350, 620. The inner ball can be moved 50 away from the middle. StationaryBase is true to have a fixed position. Mousesupport is true so that the joystick can be moved around. -->
		var joystick = new VirtualJoystick({mouseSupport: true, stationaryBase: true, baseX: 1550,baseY: 620,limitStickTravel: true, stickRadius: 50});
		
		<!-- THREE.WebGLRenderer is a renderer that displays the scenes using WebGL -->
		var renderer = new THREE.WebGLRenderer();
		renderer.setSize(window.innerWidth, window.innerHeight);
		document.body.appendChild(renderer.domElement);
		window.addEventListener('resize', onWindowResize, false); 

		<!-- cube stuff --> 
		var cubeGeometry = new THREE.CubeGeometry(20,20,20);
		var cubeMaterial = new THREE.MeshLambertMaterial({ color: 'rgb(0,255,0)' });
		var cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
		scene.add(cube);

		<!-- sphere stuff-->
		var sphereGeometry = new THREE.SphereGeometry(5);
		var sphereMaterial = new THREE.MeshBasicMaterial({ color: 'rgb(255,255,0)' });
		var sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
		scene.add(sphere);

		<!-- Setting the light, camera position and rotation of the cube visible -->
		var light = new THREE.PointLight( 'rgb(255,255,255)', 1, 0 );
		scene.add(light);
		var sunRiseFlag = true;
		var sunHeight = 0;
		var frameTime = 0;
		camera.position.y = 40;
		camera.position.z = 160;
		cube.rotation.x = 0.4;
		cube.rotation.y = 0.6;

		<!-- Get the data of the position of the cube -->
		var debugText1 = document.getElementById("CubePositionX");
		var debugText2 = document.getElementById("CubePositionY");
		animate();

		function animate(){
		   
		   requestAnimationFrame(animate);
		   
		   <!-- Get delta gives back the seconds that have passed since starting the clock -->
		   frameTime = clock.getDelta();
		   
		  <!-- Adjust the light so that the cube is visible -->
		   light.position.set(100,sunHeight,50);
		   sphere.position = light.position;
		   
		   <!-- Assigning keys to move the object around. The number before *frameTime indicates the speed of the cube (or camera), should be made variable. -->
		   if( keyboard.pressed("D") ){
		 cube.position.x = cube.position.x + 30 * frameTime;
		   }
		   if( keyboard.pressed("A") ){
		 cube.position.x = cube.position.x - 30 * frameTime;
		   }
		   if( keyboard.pressed("W") ){
		 cube.position.y = cube.position.y + 30 * frameTime;
		   }
		   if( keyboard.pressed("S") ){
		 cube.position.y = cube.position.y - 30 * frameTime;
		   }
		   
		   <!-- Using the joystick to move the object around. -->
		   if( joystick.right() ){
		 cube.position.x = cube.position.x + 30 * frameTime;    
		   }
		   if( joystick.left() ){
		 cube.position.x = cube.position.x - 30 * frameTime;     
		   }
		   if( joystick.up() ){
		 cube.position.y = cube.position.y + 30 * frameTime;       
		   }
		   if( joystick.down() ){
		 cube.position.y = cube.position.y - 30 * frameTime;
		   }
		   renderer.render( scene, camera );
		   
		   <!-- Displaying the debug information about the position of the cube. .toFixed is used to define how much decimal numbers are shown -->
		   debugText1.innerHTML = "Cube Position X: " + cube.position.x.toFixed(2);
		   debugText2.innerHTML = "Cube Position Y: " + cube.position.y.toFixed(2);
		   
		}
		function onWindowResize(){
		   camera.aspect = window.innerWidth / window.innerHeight;
		   camera.updateProjectionMatrix();
		   renderer.setSize( window.innerWidth, window.innerHeight );   
		}
      </script>     
   </body>
</html>